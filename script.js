// ====== 视频对列表 ======
const videoPairs = [
  ['folder1/0_纪实摄影风格_一位年轻女性的头发正在从黑色逐渐变为金色_她的头发.mp4', 'folder2/0_纪实摄影风格_一位年轻女性的头发正在从黑色逐渐变为金色_她的头发.mp4'],
  ['folder1/10_纪实摄影风格_一匹棕色骏马正在一片绿油油的草地上悠闲地吃草_靠近.mp4', 'folder2/10_纪实摄影风格_一匹棕色骏马正在一片绿油油的草地上悠闲地吃草_靠近.mp4'],
  ['folder1/11_纪实摄影风格_镜头环绕拍摄巴塞罗那圣家堂_圣家堂高耸入云_尖塔林.mp4', 'folder2/11_纪实摄影风格_镜头环绕拍摄巴塞罗那圣家堂_圣家堂高耸入云_尖塔林.mp4'],
  ['folder1/12_延时摄影捕捉到热淋浴蒸汽与冷毛巾接触的瞬间变化_蒸汽缓缓升起_与.mp4', 'folder2/12_延时摄影捕捉到热淋浴蒸汽与冷毛巾接触的瞬间变化_蒸汽缓缓升起_与.mp4'],
  ['folder1/13_纪实摄影风格_一只手握着尖锐的铅笔_缓缓地刺向一只薄薄的橡胶手套.mp4', 'folder2/13_纪实摄影风格_一只手握着尖锐的铅笔_缓缓地刺向一只薄薄的橡胶手套.mp4'],
  ['folder1/14_纪实摄影风格_一只棕色的拉布拉多犬最初位于桌子左侧_它身体健壮_.mp4', 'folder2/14_纪实摄影风格_一只棕色的拉布拉多犬最初位于桌子左侧_它身体健壮_.mp4'],
  ['folder1/15_纪实摄影风格_两只洁白的绵羊在绿油油的草地上悠闲地行走_它们毛发.mp4', 'folder2/15_纪实摄影风格_两只洁白的绵羊在绿油油的草地上悠闲地行走_它们毛发.mp4'],
  ['folder1/16_纪实摄影风格_一位中年男子正在厨房里专注地切割食材_他穿着简单的.mp4', 'folder2/16_纪实摄影风格_一位中年男子正在厨房里专注地切割食材_他穿着简单的.mp4'],
  ['folder1/17_纪实摄影风格_一条白色布料在装满肥皂水的铁桶中轻轻摆动_水面上泛.mp4', 'folder2/17_纪实摄影风格_一条白色布料在装满肥皂水的铁桶中轻轻摆动_水面上泛.mp4'],
  ['folder1/18_纪实摄影风格的延时摄影_捕捉一锅蜂蜜随温度升高而变化的过程_金黄.mp4', 'folder2/18_纪实摄影风格的延时摄影_捕捉一锅蜂蜜随温度升高而变化的过程_金黄.mp4'],
  ['folder1/19_延时摄影记录了三氧化二砷在室温下逐渐升温时的形态变化过程_画面中.mp4', 'folder2/19_延时摄影记录了三氧化二砷在室温下逐渐升温时的形态变化过程_画面中.mp4'],
  // ['folder1/1_纪实摄影风格_镜头环绕拍摄壮丽的优胜美地国家公园_阳光洒在巍峨的.mp4', 'folder2/1_纪实摄影风格_镜头环绕拍摄壮丽的优胜美地国家公园_阳光洒在巍峨的.mp4'],
  // ['folder1/20_纪实摄影风格_镜头环绕拍摄一个摆满书籍的书架_书架上整齐排列着各.mp4', 'folder2/20_纪实摄影风格_镜头环绕拍摄一个摆满书籍的书架_书架上整齐排列着各.mp4'],
  // ['folder1/21_纪实摄影风格_两位中年男女正在一起清扫地板_男子穿着蓝色工作服_.mp4', 'folder2/21_纪实摄影风格_两位中年男女正在一起清扫地板_男子穿着蓝色工作服_.mp4'],
  // ['folder1/22_纪实摄影风格_一个小巧的橡胶沙滩球被用力抛向地面_球在触地瞬间产.mp4', 'folder2/22_纪实摄影风格_一个小巧的橡胶沙滩球被用力抛向地面_球在触地瞬间产.mp4'],
  // ['folder1/23_纪实摄影风格_镜头缓缓从故宫的宏伟建筑群中拉远_展现其全貌_红墙.mp4', 'folder2/23_纪实摄影风格_镜头缓缓从故宫的宏伟建筑群中拉远_展现其全貌_红墙.mp4'],
  // ['folder1/24_纪实摄影风格_黄色和红色颜料以相等比例迅速混合_画面中两只手正快.mp4', 'folder2/24_纪实摄影风格_黄色和红色颜料以相等比例迅速混合_画面中两只手正快.mp4'],
  // ['folder1/25_第一人称视角斜拍镜头_空中移动拍摄一个精致的花瓶_花瓶由透明玻璃.mp4', 'folder2/25_第一人称视角斜拍镜头_空中移动拍摄一个精致的花瓶_花瓶由透明玻璃.mp4'],
  // ['folder1/26_纪实摄影风格_一位穿着休闲装的行人正沿着城市街道行走_行人步伐稳.mp4', 'folder2/26_纪实摄影风格_一位穿着休闲装的行人正沿着城市街道行走_行人步伐稳.mp4'],
  // ['folder1/27_纪实摄影风格_一位穿着家居服的中年女性正缓缓拉开厚重的窗帘_她的.mp4', 'folder2/27_纪实摄影风格_一位穿着家居服的中年女性正缓缓拉开厚重的窗帘_她的.mp4'],
  // ['folder1/28_纪实摄影风格_一只棕色的狗位于画面左侧_旁边是一颗鲜红的苹果_狗.mp4', 'folder2/28_纪实摄影风格_一只棕色的狗位于画面左侧_旁边是一颗鲜红的苹果_狗.mp4'],
  // ['folder1/29_冬季雪地实景拍摄_一个雪人从大变小的过程_初始时_雪人巨大_由三.mp4', 'folder2/29_冬季雪地实景拍摄_一个雪人从大变小的过程_初始时_雪人巨大_由三.mp4'],
  // ['folder1/2_纪实摄影风格_一座古老的水坝突然崩塌_引发汹涌的淡水洪流奔腾而下.mp4', 'folder2/2_纪实摄影风格_一座古老的水坝突然崩塌_引发汹涌的淡水洪流奔腾而下.mp4'],
  // ['folder1/30_纪实摄影风格_黄铜色的门环重重敲击在厚重的橡木门前_发出沉闷而有.mp4', 'folder2/30_纪实摄影风格_黄铜色的门环重重敲击在厚重的橡木门前_发出沉闷而有.mp4'],
  // ['folder1/31_纪实摄影风格_一只手拿着透明塑料梳子正在梳理一头凌乱的长发_头发.mp4', 'folder2/31_纪实摄影风格_一只手拿着透明塑料梳子正在梳理一头凌乱的长发_头发.mp4'],
  // ['folder1/32_纪实摄影风格_一个自动洒水器正在绿色草坪上喷洒水珠_水珠在阳光下.mp4', 'folder2/32_纪实摄影风格_一个自动洒水器正在绿色草坪上喷洒水珠_水珠在阳光下.mp4'],
  // ['folder1/33_纪实摄影风格_一只手正在迅速拉上一个黑色旅行袋的拉链_手部皮肤白.mp4', 'folder2/33_纪实摄影风格_一只手正在迅速拉上一个黑色旅行袋的拉链_手部皮肤白.mp4'],
  // ['folder1/34_纪实摄影风格_一位穿着休闲装的年轻人正弯腰从办公桌上拿起手机_他.mp4', 'folder2/34_纪实摄影风格_一位穿着休闲装的年轻人正弯腰从办公桌上拿起手机_他.mp4'],
  // ['folder1/35_纪实摄影风格_一滴晶莹剔透的水珠悬挂在光滑镜子边缘_展示出表面张.mp4', 'folder2/35_纪实摄影风格_一滴晶莹剔透的水珠悬挂在光滑镜子边缘_展示出表面张.mp4'],
  // ['folder1/36_纪实摄影风格_一只洁白的绵羊站在一棵粗壮的树前_树干苍劲_树叶繁.mp4', 'folder2/36_纪实摄影风格_一只洁白的绵羊站在一棵粗壮的树前_树干苍劲_树叶繁.mp4'],
  // ['folder1/37_镜头环绕拍摄_相机围绕主体旋转_捕捉各个角度的细节_画面中_主体.mp4', 'folder2/37_镜头环绕拍摄_相机围绕主体旋转_捕捉各个角度的细节_画面中_主体.mp4'],
  // ['folder1/38_纪实摄影风格_一位中年男子正缓缓推开一扇木质窗框的窗户_他穿着简.mp4', 'folder2/38_纪实摄影风格_一位中年男子正缓缓推开一扇木质窗框的窗户_他穿着简.mp4'],
  // ['folder1/39_纪实摄影风格_一位年轻女性正专注地用银色勺子品尝面前的香草布丁_.mp4', 'folder2/39_纪实摄影风格_一位年轻女性正专注地用银色勺子品尝面前的香草布丁_.mp4'],
  // ['folder1/3_现实主义风格摄影_一支黑色钢笔正在一张洁白的纸上流畅地书写文字_.mp4', 'folder2/3_现实主义风格摄影_一支黑色钢笔正在一张洁白的纸上流畅地书写文字_.mp4'],
  // ['folder1/40_纪实摄影风格_一只展翅飞翔的鸟儿掠过平静清澈的湖面_湖水如镜般反.mp4', 'folder2/40_纪实摄影风格_一只展翅飞翔的鸟儿掠过平静清澈的湖面_湖水如镜般反.mp4'],
  // ['folder1/41_纪实摄影风格_一把旧木椅斜靠在老旧木门旁_椅子表面有岁月留下的痕.mp4', 'folder2/41_纪实摄影风格_一把旧木椅斜靠在老旧木门旁_椅子表面有岁月留下的痕.mp4'],
  // ['folder1/42_纪实摄影风格_镜头环绕拍摄马丘比丘的壮丽景象_古老的石砌建筑群在.mp4', 'folder2/42_纪实摄影风格_镜头环绕拍摄马丘比丘的壮丽景象_古老的石砌建筑群在.mp4'],
  // ['folder1/43_纪实摄影风格_一枚脆弱的鸡蛋从高处坠落_即将触碰到坚硬的水泥地面.mp4', 'folder2/43_纪实摄影风格_一枚脆弱的鸡蛋从高处坠落_即将触碰到坚硬的水泥地面.mp4'],
  // ['folder1/44_纪实摄影风格_一个精致的花瓶缓缓倾斜向下_镜头跟随其运动轨迹_花.mp4', 'folder2/44_纪实摄影风格_一个精致的花瓶缓缓倾斜向下_镜头跟随其运动轨迹_花.mp4'],
  // ['folder1/45_一只毛茸茸的猫咪正蜷缩在桌子底下_它的眼睛闪烁着好奇的光芒_突然.mp4', 'folder2/45_一只毛茸茸的猫咪正蜷缩在桌子底下_它的眼睛闪烁着好奇的光芒_突然.mp4'],
  // ['folder1/46_纪实摄影风格_一对情侣正在共同骑行一辆双人自行车_男生在前_女生.mp4', 'folder2/46_纪实摄影风格_一对情侣正在共同骑行一辆双人自行车_男生在前_女生.mp4'],
  // ['folder1/47_纪实摄影风格_一杯新鲜果汁缓缓倒入浓稠酸奶中_果汁与酸奶在杯中交.mp4', 'folder2/47_纪实摄影风格_一杯新鲜果汁缓缓倒入浓稠酸奶中_果汁与酸奶在杯中交.mp4'],
  // ['folder1/48_纪实摄影风格_一根细长的针缓缓地压向一个充气床垫的表面_针尖逐渐.mp4', 'folder2/48_纪实摄影风格_一根细长的针缓缓地压向一个充气床垫的表面_针尖逐渐.mp4'],
  // ['folder1/49_纪实摄影风格_一位中年男子正蹲在地上_细心地帮另一位年轻人擦拭鞋.mp4', 'folder2/49_纪实摄影风格_一位中年男子正蹲在地上_细心地帮另一位年轻人擦拭鞋.mp4'],
  // ['folder1/4_纪实摄影风格_一根细小的燃烧木棍被扔进一堆干燥的稻草中_木棍火焰.mp4', 'folder2/4_纪实摄影风格_一根细小的燃烧木棍被扔进一堆干燥的稻草中_木棍火焰.mp4'],
  // ['folder1/50_纪实摄影风格_镜头以顺时针方向环绕拍摄一台笔记本电脑_电脑放置在.mp4', 'folder2/50_纪实摄影风格_镜头以顺时针方向环绕拍摄一台笔记本电脑_电脑放置在.mp4'],
  // ['folder1/51_史诗战争场景_一台巨大的古代投石机正全力运转_发射出一块巨大的石.mp4', 'folder2/51_史诗战争场景_一台巨大的古代投石机正全力运转_发射出一块巨大的石.mp4'],
  // ['folder1/52_现代简约风格室内场景_一款设计感十足的香薰机正静静地放置在木质桌.mp4', 'folder2/52_现代简约风格室内场景_一款设计感十足的香薰机正静静地放置在木质桌.mp4'],
  // ['folder1/53_纪实摄影风格_一双强壮有力的手正在揉面团_手上的肌肉线条清晰可见.mp4', 'folder2/53_纪实摄影风格_一双强壮有力的手正在揉面团_手上的肌肉线条清晰可见.mp4'],
  // ['folder1/54_纪实摄影风格_一个阳光明媚的下午_两个年轻人在公园的绿草坪上玩耍.mp4', 'folder2/54_纪实摄影风格_一个阳光明媚的下午_两个年轻人在公园的绿草坪上玩耍.mp4'],
  // ['folder1/55_镜头环绕旋转_捕捉到一台复古点唱机的全貌_点唱机外壳光滑_金属光.mp4', 'folder2/55_镜头环绕旋转_捕捉到一台复古点唱机的全貌_点唱机外壳光滑_金属光.mp4'],
  // ['folder1/56_纪实摄影风格_一束明亮的阳光穿透一颗晶莹剔透的玻璃钻石_钻石在光.mp4', 'folder2/56_纪实摄影风格_一束明亮的阳光穿透一颗晶莹剔透的玻璃钻石_钻石在光.mp4'],
  // ['folder1/57_镜头环绕拍摄_围绕着一个戴着头盔的人物旋转_头盔设计独特_表面有.mp4', 'folder2/57_镜头环绕拍摄_围绕着一个戴着头盔的人物旋转_头盔设计独特_表面有.mp4'],
  // ['folder1/58_一台银色笔记本电脑放置在木质桌面上_镜头从左向右缓缓移动_展示出.mp4', 'folder2/58_一台银色笔记本电脑放置在木质桌面上_镜头从左向右缓缓移动_展示出.mp4'],
  // ['folder1/59_现实主义摄影风格_一位穿着休闲装的中年男子正在享用三明治_突然放.mp4', 'folder2/59_现实主义摄影风格_一位穿着休闲装的中年男子正在享用三明治_突然放.mp4'],
  // ['folder1/5_纪实摄影风格_镜头缓缓拉远_展现神秘的马丘比丘全景_古老的石砌建.mp4', 'folder2/5_纪实摄影风格_镜头缓缓拉远_展现神秘的马丘比丘全景_古老的石砌建.mp4'],
  // ['folder1/60_纪实摄影风格_镜头固定拍摄马丘比丘的静态画面_古老的石砌建筑群在.mp4', 'folder2/60_纪实摄影风格_镜头固定拍摄马丘比丘的静态画面_古老的石砌建筑群在.mp4'],
  // ['folder1/61_超现实主义艺术风格_一只拥有狮子腿的鲨鱼在海岸线上缓缓行走_仿佛.mp4', 'folder2/61_超现实主义艺术风格_一只拥有狮子腿的鲨鱼在海岸线上缓缓行走_仿佛.mp4'],
  // ['folder1/62_纪实摄影风格_一位穿着深色西装的中年男子弯腰捡起地上一顶黑色礼帽.mp4', 'folder2/62_纪实摄影风格_一位穿着深色西装的中年男子弯腰捡起地上一顶黑色礼帽.mp4'],
  // ['folder1/63_超现实主义艺术风格_一只拥有鲸鱼身体_袋鼠腿和火烈鸟尾巴的长颈鹿.mp4', 'folder2/63_超现实主义艺术风格_一只拥有鲸鱼身体_袋鼠腿和火烈鸟尾巴的长颈鹿.mp4'],
  // ['folder1/64_纪实摄影风格_厨房一角_一位穿着围裙的女性正专注地用打蛋器快速搅.mp4', 'folder2/64_纪实摄影风格_厨房一角_一位穿着围裙的女性正专注地用打蛋器快速搅.mp4'],
  // ['folder1/65_纪实摄影风格_一只毛茸茸的棕色猴子位于画面右侧_紧挨着一颗鲜红的.mp4', 'folder2/65_纪实摄影风格_一只毛茸茸的棕色猴子位于画面右侧_紧挨着一颗鲜红的.mp4'],
  // ['folder1/66_现实主义摄影风格_一位中年女性正在厨房里专注地切割食材_她穿着简.mp4', 'folder2/66_现实主义摄影风格_一位中年女性正在厨房里专注地切割食材_她穿着简.mp4'],
  // ['folder1/67_纪实摄影风格_一位穿着正式西装的男士正帮助另一位男士系领结_被帮.mp4', 'folder2/67_纪实摄影风格_一位穿着正式西装的男士正帮助另一位男士系领结_被帮.mp4'],
  // ['folder1/68_延时摄影捕捉到茶壶中茶叶随温度迅速升高的变化过程_茶壶透明_可以.mp4', 'folder2/68_延时摄影捕捉到茶壶中茶叶随温度迅速升高的变化过程_茶壶透明_可以.mp4'],
  // ['folder1/69_纪实摄影风格_镜头从马丘比丘的古老石阶缓缓向上移动_展现这座神秘.mp4', 'folder2/69_纪实摄影风格_镜头从马丘比丘的古老石阶缓缓向上移动_展现这座神秘.mp4'],
  // ['folder1/6_一只毛茸茸的猫咪轻盈地跃上一张古朴的木质桌子_桌子表面有着岁月留.mp4', 'folder2/6_一只毛茸茸的猫咪轻盈地跃上一张古朴的木质桌子_桌子表面有着岁月留.mp4'],
  // ['folder1/70_纪实摄影风格_一瓶酱料正缓缓挤出鲜红的番茄酱_均匀地淋在一根刚出.mp4', 'folder2/70_纪实摄影风格_一瓶酱料正缓缓挤出鲜红的番茄酱_均匀地淋在一根刚出.mp4'],
  // ['folder1/71_纪实摄影风格_等量的粉色和白色颜料在透明玻璃碗中迅速混合_画面中.mp4', 'folder2/71_纪实摄影风格_等量的粉色和白色颜料在透明玻璃碗中迅速混合_画面中.mp4'],
  // ['folder1/72_纪实摄影风格_两件衣物在空中旋转_一件鲜艳的红色T恤和一件深邃的.mp4', 'folder2/72_纪实摄影风格_两件衣物在空中旋转_一件鲜艳的红色T恤和一件深邃的.mp4'],
  // ['folder1/73_现实主义摄影风格_一位穿着休闲装的年轻人正弯腰帮助另一位坐在长椅.mp4', 'folder2/73_现实主义摄影风格_一位穿着休闲装的年轻人正弯腰帮助另一位坐在长椅.mp4'],
  // ['folder1/74_延时摄影记录了温度计中水银随温度变化的动态过程_画面中_细长的玻.mp4', 'folder2/74_延时摄影记录了温度计中水银随温度变化的动态过程_画面中_细长的玻.mp4'],
  // ['folder1/75_纪实摄影风格_海浪拍打岩石_激起大量水花在空中飞溅_波涛汹涌_浪.mp4', 'folder2/75_纪实摄影风格_海浪拍打岩石_激起大量水花在空中飞溅_波涛汹涌_浪.mp4'],
  // ['folder1/76_镜头环绕拍摄_摄像机缓缓旋转_围绕主体全方位捕捉每一个细节_画面.mp4', 'folder2/76_镜头环绕拍摄_摄像机缓缓旋转_围绕主体全方位捕捉每一个细节_画面.mp4'],
  // ['folder1/77_自然生态纪录片风格_一只羽毛斑斓的小鸟安静地栖息在精致的巢穴中_.mp4', 'folder2/77_自然生态纪录片风格_一只羽毛斑斓的小鸟安静地栖息在精致的巢穴中_.mp4'],
  // ['folder1/78_纪实摄影风格_镜头环绕拍摄雅典卫城_捕捉其宏伟壮丽的全貌_古老的.mp4', 'folder2/78_纪实摄影风格_镜头环绕拍摄雅典卫城_捕捉其宏伟壮丽的全貌_古老的.mp4'],
  // ['folder1/79_超现实主义微距摄影_水滴缓缓坠入油面_瞬间激起细微涟漪与气泡_水.mp4', 'folder2/79_超现实主义微距摄影_水滴缓缓坠入油面_瞬间激起细微涟漪与气泡_水.mp4'],
  // ['folder1/7_纪实摄影风格_一名男子正在空中跳跃_身体完全伸展_双腿弯曲_双臂.mp4', 'folder2/7_纪实摄影风格_一名男子正在空中跳跃_身体完全伸展_双腿弯曲_双臂.mp4'],
  // ['folder1/8_纪实摄影风格_一块铁在熊熊燃烧_发出明亮而独特的火焰_铁块表面因.mp4', 'folder2/8_纪实摄影风格_一块铁在熊熊燃烧_发出明亮而独特的火焰_铁块表面因.mp4'],
  // ['folder1/9_现实主义摄影风格_一位穿着休闲装的中年男子坐在木质餐桌旁_桌上散.mp4', 'folder2/9_现实主义摄影风格_一位穿着休闲装的中年男子坐在木质餐桌旁_桌上散.mp4'],
];

let current = 0;
let results = [];

window.onload = () => {
  document.getElementById("startTask").addEventListener("click", () => {
    document.getElementById("cover-page").style.display = 'none';
    document.getElementById("rating-task").style.display = 'block';
    current = 0;
    results = [];
    loadQuestion(current);
  });

  document.getElementById("submitBtn").addEventListener("click", () => {
    const choice = document.querySelector('input[name="choice"]:checked')?.value;

    if (!choice) {
      alert("Please select which video is better!");
      return;
    }

    results.push({
      question: current + 1,
      videoA: videoPairs[current][0],
      videoB: videoPairs[current][1],
      choice: choice,
      timestamp: new Date().toISOString(),
    });

    current++;
    if (current < videoPairs.length) {
      loadQuestion(current);
    } else {
      document.getElementById("rating-task").style.display = 'none';
      document.getElementById("complete").style.display = 'block';
    }
  });
};

// ====== 加载题目 ======
function loadQuestion(index) {
  document.getElementById("question-counter").textContent =
    `Question ${index + 1} / ${videoPairs.length}`;
  document.getElementById("videoA").src = videoPairs[index][0];
  document.getElementById("videoB").src = videoPairs[index][1];
  document.querySelectorAll('input[name="choice"]').forEach(el => el.checked = false);
}

// ====== 下载结果 ======
function downloadCSV() {
  if (results.length === 0) {
    alert('No results to download.');
    return;
  }
  const header = Object.keys(results[0]).join(',');
  const lines = results.map((r) => Object.values(r).join(','));
  const csv = [header, ...lines].join('\n');
  const blob = new Blob([csv], { type: 'text/csv' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'video_comparison_results.csv';
  a.click();
}
